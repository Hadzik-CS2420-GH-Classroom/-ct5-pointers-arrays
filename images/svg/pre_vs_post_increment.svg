<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 520">
  <!-- Background -->
  <rect width="1100" height="520" fill="#fff" rx="12"/>

  <!-- ===== DEFS ===== -->
  <defs>
    <marker id="arrowPurple" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#7b1fa2"/>
    </marker>
  </defs>

  <!-- ===== TITLE ===== -->
  <text x="550" y="34" text-anchor="middle" font-family="Consolas, monospace"
        font-size="20" font-weight="bold" fill="#222">
    ++p  vs  p++  — What Actually Happens
  </text>
  <text x="550" y="56" text-anchor="middle" font-family="Consolas, monospace"
        font-size="13" fill="#666">
    Both increment p, but they differ in what they return
  </text>

  <!-- ===== VERTICAL DIVIDER ===== -->
  <line x1="550" y1="72" x2="550" y2="420" stroke="#ccc" stroke-width="1.5" stroke-dasharray="6,4"/>

  <!-- ======================================================= -->
  <!-- LEFT COLUMN: ++p (Pre-Increment)                        -->
  <!-- ======================================================= -->

  <!-- Column header -->
  <rect x="60" y="72" width="430" height="36" rx="6"
        fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
  <text x="275" y="96" text-anchor="middle" font-family="Consolas, monospace"
        font-size="16" font-weight="bold" fill="#2e7d32">++p  (pre-increment)</text>

  <!-- Step 1 -->
  <text x="80" y="140" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#555">Step 1</text>
  <text x="150" y="140" font-family="Consolas, monospace"
        font-size="13" fill="#555">p holds current address</text>
  <rect x="100" y="152" width="120" height="40" rx="5"
        fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
  <text x="115" y="167" font-family="Consolas, monospace"
        font-size="10" fill="#888">p</text>
  <text x="160" y="179" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#1565c0">0x1004</text>

  <!-- Step 2 -->
  <text x="80" y="220" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#555">Step 2</text>
  <text x="150" y="220" font-family="Consolas, monospace"
        font-size="13" fill="#555">Increment p</text>
  <rect x="100" y="232" width="120" height="40" rx="5"
        fill="#e3f2fd" stroke="#2e7d32" stroke-width="2.5"/>
  <text x="115" y="247" font-family="Consolas, monospace"
        font-size="10" fill="#888">p</text>
  <text x="160" y="259" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#2e7d32">0x1008</text>

  <!-- Arrow from step 1 to step 2 -->
  <text x="240" y="215" font-family="Consolas, monospace"
        font-size="18" fill="#2e7d32">↓</text>

  <!-- Step 3 -->
  <text x="80" y="300" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#555">Step 3</text>
  <text x="150" y="300" font-family="Consolas, monospace"
        font-size="13" fill="#555">Return p (the NEW value)</text>

  <!-- Arrow from step 2 to step 3 -->
  <text x="240" y="292" font-family="Consolas, monospace"
        font-size="18" fill="#2e7d32">↓</text>

  <!-- Return value box -->
  <rect x="100" y="312" width="160" height="40" rx="5"
        fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="180" y="338" text-anchor="middle" font-family="Consolas, monospace"
        font-size="14" font-weight="bold" fill="#7b1fa2">returns 0x1008</text>

  <!-- Arrow connecting p box to return (same box) -->
  <line x1="220" y1="272" x2="220" y2="310" stroke="#7b1fa2" stroke-width="2"
        marker-end="url(#arrowPurple)" stroke-dasharray="4,3"/>

  <!-- Green badge -->
  <rect x="310" y="230" width="170" height="44" rx="8"
        fill="#e8f5e9" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="395" y="248" text-anchor="middle" font-family="Consolas, monospace"
        font-size="11" font-weight="bold" fill="#2e7d32">No copy needed</text>
  <text x="395" y="263" text-anchor="middle" font-family="Consolas, monospace"
        font-size="10" fill="#555">Just 2 steps</text>

  <!-- ======================================================= -->
  <!-- RIGHT COLUMN: p++ (Post-Increment)                      -->
  <!-- ======================================================= -->

  <!-- Column header -->
  <rect x="610" y="72" width="430" height="36" rx="6"
        fill="#fff3e0" stroke="#e65100" stroke-width="2"/>
  <text x="825" y="96" text-anchor="middle" font-family="Consolas, monospace"
        font-size="16" font-weight="bold" fill="#e65100">p++  (post-increment)</text>

  <!-- Step 1 -->
  <text x="630" y="140" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#555">Step 1</text>
  <text x="700" y="140" font-family="Consolas, monospace"
        font-size="13" fill="#555">p holds current address</text>
  <rect x="650" y="152" width="120" height="40" rx="5"
        fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
  <text x="665" y="167" font-family="Consolas, monospace"
        font-size="10" fill="#888">p</text>
  <text x="710" y="179" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#1565c0">0x1004</text>

  <!-- Step 2 — SAVE A COPY (the extra work!) -->
  <text x="630" y="220" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#e65100">Step 2</text>
  <text x="700" y="220" font-family="Consolas, monospace"
        font-size="13" fill="#e65100">Save a copy of p</text>

  <!-- Arrow from step 1 to step 2 -->
  <text x="790" y="215" font-family="Consolas, monospace"
        font-size="18" fill="#e65100">↓</text>

  <!-- p box (unchanged still) -->
  <rect x="650" y="232" width="120" height="40" rx="5"
        fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
  <text x="665" y="247" font-family="Consolas, monospace"
        font-size="10" fill="#888">p</text>
  <text x="710" y="259" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#1565c0">0x1004</text>

  <!-- temp box (the copy — highlighted as extra work) -->
  <rect x="800" y="232" width="120" height="40" rx="5"
        fill="#fff3e0" stroke="#e65100" stroke-width="2.5" stroke-dasharray="6,3"/>
  <text x="812" y="247" font-family="Consolas, monospace"
        font-size="10" fill="#e65100" font-weight="bold">temp</text>
  <text x="860" y="259" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#e65100">0x1004</text>

  <!-- "copy" arrow from p to temp -->
  <line x1="770" y1="252" x2="798" y2="252" stroke="#e65100" stroke-width="2"/>
  <text x="782" y="245" text-anchor="middle" font-family="Consolas, monospace"
        font-size="10" fill="#e65100">copy</text>

  <!-- Step 3 — Increment p -->
  <text x="630" y="300" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#555">Step 3</text>
  <text x="700" y="300" font-family="Consolas, monospace"
        font-size="13" fill="#555">Increment p</text>

  <!-- Arrow from step 2 to step 3 -->
  <text x="700" y="292" font-family="Consolas, monospace"
        font-size="18" fill="#555">↓</text>

  <rect x="650" y="312" width="120" height="40" rx="5"
        fill="#e3f2fd" stroke="#2e7d32" stroke-width="2.5"/>
  <text x="665" y="327" font-family="Consolas, monospace"
        font-size="10" fill="#888">p</text>
  <text x="710" y="339" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#2e7d32">0x1008</text>

  <!-- temp still there (grayed slightly) -->
  <rect x="800" y="312" width="120" height="40" rx="5"
        fill="#fff3e0" stroke="#e65100" stroke-width="1.5" stroke-dasharray="6,3" opacity="0.7"/>
  <text x="812" y="327" font-family="Consolas, monospace"
        font-size="10" fill="#e65100" opacity="0.7">temp</text>
  <text x="860" y="339" text-anchor="middle" font-family="Consolas, monospace"
        font-size="15" font-weight="bold" fill="#e65100" opacity="0.7">0x1004</text>

  <!-- Step 4 — Return temp (the OLD value) -->
  <text x="630" y="380" font-family="Consolas, monospace"
        font-size="13" font-weight="bold" fill="#555">Step 4</text>
  <text x="700" y="380" font-family="Consolas, monospace"
        font-size="13" fill="#555">Return temp (the OLD value)</text>

  <!-- Arrow from step 3 to step 4 -->
  <text x="860" y="372" font-family="Consolas, monospace"
        font-size="18" fill="#e65100">↓</text>

  <!-- Return value box -->
  <rect x="800" y="390" width="160" height="40" rx="5"
        fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="880" y="416" text-anchor="middle" font-family="Consolas, monospace"
        font-size="14" font-weight="bold" fill="#7b1fa2">returns 0x1004</text>

  <!-- Arrow from temp to return -->
  <line x1="860" y1="352" x2="860" y2="388" stroke="#7b1fa2" stroke-width="2"
        marker-end="url(#arrowPurple)" stroke-dasharray="4,3"/>

  <!-- Orange badge -->
  <rect x="630" y="392" width="160" height="40" rx="8"
        fill="#fff3e0" stroke="#e65100" stroke-width="1.5"/>
  <text x="710" y="410" text-anchor="middle" font-family="Consolas, monospace"
        font-size="11" font-weight="bold" fill="#e65100">Extra copy made</text>
  <text x="710" y="423" text-anchor="middle" font-family="Consolas, monospace"
        font-size="10" fill="#555">4 steps total</text>

  <!-- ===== BOTTOM CALLOUT ===== -->
  <rect x="60" y="450" width="980" height="56" rx="8"
        fill="#f5f5f5" stroke="#888" stroke-width="1.5"/>
  <text x="550" y="472" text-anchor="middle" font-family="Consolas, monospace"
        font-size="12" font-weight="bold" fill="#333">
    In a for loop the return value is thrown away — so both produce the same result.
  </text>
  <text x="550" y="492" text-anchor="middle" font-family="Consolas, monospace"
        font-size="12" fill="#555">
    But ++p skips the unnecessary copy.  For iterators this matters.  For pointers, the compiler
  </text>
  <text x="550" y="506" text-anchor="middle" font-family="Consolas, monospace"
        font-size="12" fill="#555">
    optimizes it away, but ++p is still the standard C++ style.
  </text>
</svg>
